@model IEnumerable<QLSL.Models.CCTV>
<tbody id="uBody">
    @{
        int pageNumber = (int)ViewBag.PageNumber;
        int pageSize = (int)ViewBag.PageSize;
        int currentno = ((pageNumber - 1) * pageSize) + 1;
    }
@foreach (var item in Model)
{
    <tr>
        <td class="text-center">
            @currentno
            @{currentno = currentno + 1;}
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>

        <td class="width-7">
            @Html.DisplayFor(modelItem => item.IP)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Manufacturer)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Model)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CAMType.Name)
        </td>
        <td class="text-center width-5">
            @Html.DisplayFor(modelItem => item.YearInstall)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.OwerCCTV.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LocatyCCTV.Name)
        </td>
        <td>
            @{
                foreach (var zone in item.Zones)
                {
                    @zone.Name
                    <span>&nbsp</span>
                }
            }
        </td>
        @*<td class="text-center width-5">
            @if (item.Map)
            {
                <i class="fa fa-check text-primary" aria-hidden="true"></i>
            }
        </td>*@
        <td class="text-center width-5">
            @if (!item.Disable)
            {
                <i class="fa fa-check text-danger" aria-hidden="true"></i>
            }
        </td>

        <td class="text-center width-10">
            @if (ViewContext.HttpContext.User.IsInRole("Admin"))
            {
                <a onclick="Edit(@item.CCTVID)" id="btnEdit_@item.CCTVID" class='btn btn-success btn-xs'>
                    <i class='glyphicon glyphicon-pencil'></i>
                </a>
                <button onclick="Delete(@item.CCTVID, this)" class='btn btn-danger btn-xs' @(ViewContext.HttpContext.User.IsInRole("Admin") ? "" : "disabled")>
                    <i class='glyphicon glyphicon-remove'></i>
                </button>
            }
            <a onclick="EditMain(@item.CCTVID)" id="btnEditMain_@item.CCTVID" class='btn btn-default btn-xs'>
                <i class='glyphicon glyphicon-edit'></i>
            </a>
        </td>
    </tr>
}
</tbody>